{"ast":null,"code":"import _regeneratorRuntime from\"/Users/playground/Desktop/React/todolists/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/playground/Desktop/React/todolists/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/playground/Desktop/React/todolists/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useState}from'react';import CloseBtn from'../assets/delete_icon.svg';import'./content.css';import FetchData from'./FetchData';import FormEdit from'./FormEdit';import ListCard from'./ListCard';// import ClipLoader from \"react-spinners/ClipLoader\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=function Content(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editStatus=_useState2[0],setEditStatus=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dumpData=_useState4[0],setDumpData=_useState4[1];var _FetchData=FetchData('/5R2I/todo/'),data=_FetchData.data;var _delHandle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete(\"/5R2I/todo/\".concat(id));case 2:console.log('list todo deleted');window.location.reload();case 4:case\"end\":return _context.stop();}}},_callee);}));return function delHandle(_x){return _ref.apply(this,arguments);};}();var _editHandle=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setEditStatus(true);_context2.prev=1;_context2.next=4;return axios.get(\"/5R2I/todo/\".concat(id));case 4:res=_context2.sent;setDumpData(res.data);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function editHandle(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"contentWrapper\",children:[data.map(function(item){return/*#__PURE__*/_jsx(ListCard,{date:item.dateline,todo:item.todo,priority:item.priority,delHandle:function delHandle(){return _delHandle(item._id);},editHandle:function editHandle(){return _editHandle(item._id);}},item._id);}),editStatus?/*#__PURE__*/_jsx(\"div\",{className:\"editContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"editModal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"closeBtn\",onClick:function onClick(){return setEditStatus(false);},children:/*#__PURE__*/_jsx(\"img\",{src:CloseBtn,alt:\"\"})}),/*#__PURE__*/_jsx(FormEdit,{dumpData:dumpData})]})}):null]});};export default Content;","map":{"version":3,"names":["axios","React","useState","CloseBtn","FetchData","FormEdit","ListCard","Content","editStatus","setEditStatus","dumpData","setDumpData","data","delHandle","id","delete","console","log","window","location","reload","editHandle","get","res","map","item","dateline","todo","priority","_id"],"sources":["/Users/playground/Desktop/React/todolists/client/src/features/Content.jsx"],"sourcesContent":["import axios from 'axios'\nimport React, { useState } from 'react'\nimport CloseBtn from '../assets/delete_icon.svg'\nimport './content.css'\nimport FetchData from './FetchData'\nimport FormEdit from './FormEdit'\nimport ListCard from './ListCard'\n// import ClipLoader from \"react-spinners/ClipLoader\";\n\n\nconst Content = () => {\n\n  const [editStatus, setEditStatus] = useState(false)\n  const [dumpData, setDumpData] = useState([])\n\n  const { data } = FetchData('/5R2I/todo/')\n   \n  const delHandle = async (id) => {\n    await axios.delete(`/5R2I/todo/${id}`)\n    console.log('list todo deleted');\n    window.location.reload();\n  }\n\n  const editHandle = async (id) => {\n    setEditStatus(true)\n    try {      \n      const res = await axios.get(`/5R2I/todo/${id}`)\n      setDumpData(res.data)\n    } catch (error) {\n      console.log(error);\n    }\n    // getDB => edit form => onChange to editDB => onSubmit setEditDB._id === editDB\n  }\n\n  return (\n    <div className=\"contentWrapper\">\n      {\n        data.map((item) => {\n          return (\n            <ListCard\n              key={item._id}\n              date={item.dateline}\n              todo={item.todo}\n              priority={item.priority}\n              delHandle={() => delHandle(item._id)}\n              editHandle={() => editHandle(item._id)}\n            />\n          )\n        })\n      }\n      {\n        editStatus ?\n          <div className=\"editContainer\">\n            <div className='editModal'>\n              <div className='closeBtn' onClick={() => setEditStatus(false)}>\n                <img src={CloseBtn} alt=\"\" />\n              </div>\n              <FormEdit dumpData={dumpData} />\n            </div>\n          </div>\n          : null\n      }\n\n    </div>\n\n\n  )\n}\n\nexport default Content"],"mappings":"kaAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,SAAQ,KAAM,2BAA2B,CAChD,MAAO,eAAe,CACtB,MAAOC,UAAS,KAAM,aAAa,CACnC,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,SAAQ,KAAM,YAAY,CACjC;AAAA,wFAGA,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAEpB,cAAoCL,QAAQ,CAAC,KAAK,CAAC,wCAA5CM,UAAU,eAAEC,aAAa,eAChC,eAAgCP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAE5B,eAAiBP,SAAS,CAAC,aAAa,CAAC,CAAjCQ,IAAI,YAAJA,IAAI,CAEZ,GAAMC,WAAS,4FAAG,iBAAOC,EAAE,0IACnBd,MAAK,CAACe,MAAM,sBAAeD,EAAE,EAAG,QACtCE,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE,CAAC,sDAC1B,kBAJKP,UAAS,4CAId,CAED,GAAMQ,YAAU,6FAAG,kBAAOP,EAAE,gIAC1BL,aAAa,CAAC,IAAI,CAAC,yCAECT,MAAK,CAACsB,GAAG,sBAAeR,EAAE,EAAG,QAAzCS,GAAG,gBACTZ,WAAW,CAACY,GAAG,CAACX,IAAI,CAAC,oFAErBI,OAAO,CAACC,GAAG,cAAO,CAAC,sEAGtB,kBATKI,WAAU,8CASf,CAED,mBACE,aAAK,SAAS,CAAC,gBAAgB,WAE3BT,IAAI,CAACY,GAAG,CAAC,SAACC,IAAI,CAAK,CACjB,mBACE,KAAC,QAAQ,EAEP,IAAI,CAAEA,IAAI,CAACC,QAAS,CACpB,IAAI,CAAED,IAAI,CAACE,IAAK,CAChB,QAAQ,CAAEF,IAAI,CAACG,QAAS,CACxB,SAAS,CAAE,2BAAMf,WAAS,CAACY,IAAI,CAACI,GAAG,CAAC,EAAC,CACrC,UAAU,CAAE,4BAAMR,YAAU,CAACI,IAAI,CAACI,GAAG,CAAC,EAAC,EALlCJ,IAAI,CAACI,GAAG,CAMb,CAEN,CAAC,CAAC,CAGFrB,UAAU,cACR,YAAK,SAAS,CAAC,eAAe,uBAC5B,aAAK,SAAS,CAAC,WAAW,wBACxB,YAAK,SAAS,CAAC,UAAU,CAAC,OAAO,CAAE,yBAAMC,cAAa,CAAC,KAAK,CAAC,EAAC,uBAC5D,YAAK,GAAG,CAAEN,QAAS,CAAC,GAAG,CAAC,EAAE,EAAG,EACzB,cACN,KAAC,QAAQ,EAAC,QAAQ,CAAEO,QAAS,EAAG,GAC5B,EACF,CACJ,IAAI,GAGN,CAIV,CAAC,CAED,cAAeH,QAAO"},"metadata":{},"sourceType":"module"}